name: "Replace JSON Key Values"
description: "Reemplaza valores en archivos JSON usando sintaxis Objeto.Clave=valor"
author: ""

inputs:
  files:
    description: "Lista de archivos donde reemplazar valores, separados por |"
    required: true
  replacements:
    description: "Pares Objeto.Clave=valor, separados por |. Ejemplo: WebApi.MinExecWorker=5|Log.Limit=50"
    required: true

runs:
  using: "composite"
  steps:
    - name: Instalar Python si no est√°
      uses: actions/setup-python@v5
      with:
        python-version: "3.x"

    - name: Ejecutar reemplazo en JSON
      shell: bash
      run: |
        python3 "${{ github.action_path }}/replace_json.py" \
          --files "${{ inputs.files }}" \
          --replacements "${{ inputs.replacements }}"

branding:
  icon: "edit"
  color: "green"
